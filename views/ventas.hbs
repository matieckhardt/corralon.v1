<!-- Content Header (Page header) -->
<div class='content-header'>
  <div class='container-fluid'>
    <div class='row mb-2'>
      <div class='col-sm-6'>
        <h1 class='m-0 text-dark'>Ventas</h1>
      </div><!-- /.col -->
    </div><!-- /.row -->
  </div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->

<!-- Main content -->
<section class='content'>
  <div class='container-fluid'>
    <!-- row -->
    <div class='row'>
      <div class='col-12'>
        <div class='card card-info'>
          <div class='card-header'>
            <h3 class='card-title'>Venta Rapida</h3>
            <input hidden type='date' disabled id='fechaVenta' />
            <input
              hidden
              type='text'
              disabled
              id='nombreCliente'
              value='Cliente Generico'
            />
            <input hidden type='text' disabled id='clienteId' value='0' />
          </div>
          <!-- /.card-header -->
          <!-- form start -->
          <form class='form-horizontal' id='formVentas' role='form'>
            <div class='card-body'>
              <div id='filaVenta'>
                <div name='productoVendido' class='row' id='columnaVenta0'>
                  <div class='col-sm-3'>
                    <!-- text input -->
                    <div class='form-group'>
                      <label>Mercaderia</label>
                      <select
                        type='text'
                        class='form-control'
                        name='mercaderias'
                        onchange='calcularTotal();'
                        required
                      >
                        <option disabled selected hidden></option>
                      </select>
                    </div>
                  </div>
                  <div class='col-sm-2'>
                    <!-- text input -->
                    <div class='form-group'>
                      <label>Precio lista</label>
                      <div class='input-group'>
                        <input
                          type='number'
                          class='form-control'
                          name='precioLista'
                          min='1'
                          value='0'
                          readonly
                        />
                        <div class='input-group-append'>
                          <span class='input-group-text'>$</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class='col-sm-2'>
                    <!-- text input -->
                    <div class='form-group'>
                      <label>Precio</label>
                      <div class='input-group'>
                        <input
                          type='number'
                          class='form-control'
                          name='precioMaterial'
                          min='1'
                          value='0'
                        />
                        <div class='input-group-append'>
                          <span class='input-group-text'>$</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class='col-sm-2'>
                    <!-- select -->
                    <div class='form-group'>
                      <label>Cantidad</label>
                      <input
                        type='number'
                        step='0.1'
                        class='form-control'
                        name='cantidad'
                        value='1'
                        min='1'
                      />
                    </div>
                  </div>
                  <div class='col-sm-3'>
                    <!-- select -->
                    <div class='form-group'>
                      <label>Subtotal</label>
                      <div class='input-group'>
                        <input
                          class='form-control'
                          step='0.01'
                          name='subtotal'
                          min='0'
                          value='0'
                          readonly
                        />
                        <div class='input-group-append'>
                          <span class='input-group-text'>$</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div>
                <button
                  type='button'
                  onclick='agregarMercaderia()'
                  class='btn btn-success'
                ><i class='fa fa-plus'>
                  </i>
                  Agregar Mercaderia</button>
                <button
                  type='button'
                  onclick='borrarMercaderia()'
                  class='btn btn-danger'
                  id='borrarMerch'
                  style='display: none;'
                ><i class='fa fa-minus'> </i> Eliminar Mercaderia</button>

                <div class='col-2 float-right' hidden>
                  <label for='metodo'>Método de Pago</label>
                  <select type='text' class='form-control' id='metodo'>
                    <option>Efectivo</option>
                    <option>Cheque</option>
                    <option>Cuenta Corriente</option>
                    <option>Tarjeta de Débito/Crédito</option>
                  </select>
                </div>
              </div>
              <div class='col-sm-3 float-right'>
                <!-- text input -->
                <div class='form-group'>
                  <label>Comprobante</label>
                  <select
                    type='text'
                    class='form-control'
                    id='comprobante'
                    name='comprobante'
                    required
                  >
                    <option selected value='S/C'>S/C</option>
                    <option value='A'>Fc A</option>
                    <option value='B'>Fc B</option>
                    <option value='Ticket'>Ticket</option>
                  </select>
                </div>
                <!-- text input -->
                <div class='form-group'>
                  <label>Descuento</label>
                  <div class='input-group'>
                    <input
                      type='number'
                      class='form-control'
                      name='descuento'
                      id='descuento'
                      min='0'
                      value='0'
                      required
                      onchange='manejarDescuento(this);'
                    />
                    <div class='input-group-append'>
                      <span class='input-group-text'>%</span>
                    </div>
                  </div>
                </div>
                <div class='form-group'>
                  <label>Precio total</label>
                  <div class='input-group'>
                    <input
                      type='number'
                      step='0.01'
                      class='form-control'
                      name='precioTotal'
                      id='precioTotal'
                      min='1'
                      value='0'
                      required
                    />
                    <div class='input-group-append'>
                      <span class='input-group-text'>$</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.card-body -->
            <div class='card-footer'>
              <div class='float-right'>
                <button
                  type='submit'
                  class='btn btn-info font-weight-bold mr-3'
                >
                  CREAR VENTA</button>
                <button
                  type='reset'
                  class='btn btn-default float-right'
                >Cancelar</button>
              </div>
            </div>
            <!-- /.card-footer -->
          </form>
        </div>
      </div>
      <div class='col-12'>
        <div class='card'>
          <div class='card-header bg-info'>
            <h3 class='card-title'>Lista de Ventas</h3>
            <div class='card-tools'>
              <button
                type='button'
                class='btn btn-tool'
                data-card-widget='card-refresh'
                data-source='/api/ventas/find/0'
                data-source-selector='#card-refresh-content'
                data-load-on-init='false'
              ><i class='fas fa-sync-alt'></i></button>
              <button
                type='button'
                class='btn btn-tool'
                data-card-widget='collapse'
              ><i class='fas fa-minus'></i></button>
            </div>
          </div>
          <!-- /.card-header -->
          <div class='card-body table-responsive'>
            <table class='table table-head-fixed text-nowrap' id='tablaVentas'>
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>Cliente</th>
                  <th>Precio Total</th>
                  <th style='width: 50px'>Comprobante</th>
                  <th style='width: 100px'>Acciones</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
      </div>
    </div>
    <!-- /.row (main row) -->
  </div><!-- /.container-fluid -->
</section>

<!-- Modal -->
<div
  class='modal fade'
  id='modalEdit'
  tabindex='-1'
  role='dialog'
  aria-labelledby='modal'
  aria-hidden='true'
>
  <div class='modal-dialog modal-dialog-centered' role='document'>
    <div class='modal-content'>
      <div class='modal-header bg-warning'>
        <h5 class='modal-title' id='modal'>Modificar Venta</h5>
        <button
          type='button'
          class='close'
          data-dismiss='modal'
          aria-label='Close'
        >
          <span aria-hidden='true'>&times;</span>
        </button>
      </div>
      <div class='modal-body'>
        <form role='form' id='formEdit'>
          <input type='text' id='clienteIdEdit' hidden />
          <div class='form-group row'>
            <label
              for='nombreEdit'
              class='col-sm-2 col-form-label'
            >Venta</label>
            <div class='col-sm-10'>
              <input type='text' class='form-control' id='nombreEdit' />
            </div>
          </div>
          <div class='form-group row'>
            <label for='aliasEdit' class='col-sm-2 col-form-label'>Marca</label>
            <div class='col-sm-10'>
              <input type='text' class='form-control' id='aliasEdit' />
            </div>
          </div>
          <div class='form-group row'>
            <label for='telEdit' class='col-sm-2 col-form-label'>Precio</label>
            <div class='col-sm-10'>
              <input
                type='tel'
                class='form-control'
                id='telEdit'
                maxlength='14'
              />
            </div>
          </div>
        </form>
      </div>
      <div class='modal-footer'>
        <button
          type='button'
          class='btn font-weight-bold btn-warning mr-3'
          onclick='editarCliente()'
          data-dismiss='modal'
        >GUARDAR DATOS</button>
        <button
          type='button'
          data-dismiss='modal'
          class='btn btn-default'
        >Cancelar</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class='modal fade'
  id='modalBorrar'
  tabindex='-1'
  role='dialog'
  aria-labelledby='modalDel'
  aria-hidden='true'
>
  <div class='modal-dialog modal-lg modal-dialog-centered' role='document'>
    <div class='modal-content'>
      <div class='modal-header bg-danger'>
        <h5 class='modal-title' id='modalDel'></h5>
        <input type='text' hidden id='idBorrar' />
        <button
          type='button'
          class='close'
          data-dismiss='modal'
          aria-label='Close'
        >
          <span aria-hidden='true'>&times;</span>
        </button>
      </div>
      <div class='modal-body'>
        <p>Una vez eliminado el cliente no podrá recuperar la información del
          mismo.</p>
        <p>Esta seguro que quiere eliminar el cliente?</p>
      </div>
      <div class='modal-footer'>
        <button
          class='btn font-weight-bold btn-danger mr-3'
          type='button'
          disabled
          id='borrarBtn'
          data-dismiss='modal'
          onclick='eliminarVenta()'
        >
          <span
            class='spinner-border spinner-border-sm'
            role='status'
            aria-hidden='true'
          ></span>
          <span class='sr-only'>ELIMINAR</span>
        </button>
        <button
          type='button'
          data-dismiss='modal'
          class='btn btn-default'
        >Cancelar</button>
      </div>
    </div>
  </div>
</div>
<script src='/dist/js/pages/ventas.js'></script>